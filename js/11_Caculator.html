<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥ÑÏÇ∞Í∏∞</title>
    <link rel="stylesheet" href="./calculator.css">
    
</head>
<body>

    <style>

    </style>

    <!-- Í≥ÑÏÇ∞Í∏∞Î•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî -->

    <div class="wrapper"><strong class="codepen-title">LEE WON SEOK CALCULATOR</strong>
        <div class="calc-wrapper">
            <div class="calc">
            <div class="result">
                <div class="store"></div>
                <div class="current-value"></div>
            </div>
            <div class="viewer">
                <button class="btn all-clear">AC</button>
                <button class="btn clear">C</button>
                <button class="btn sign">+/-</button>
                <button class="btn symbol divide">/</button>
                <button class="btn num num-7">7</button>
                <button class="btn num num-8">8</button>
                <button class="btn num num-9">9</button>
                <button class="btn symbol times">*</button>
                <button class="btn num num-4">4</button>
                <button class="btn num num-5">5</button>
                <button class="btn num num-6">6</button>
                <button class="btn symbol minus">-</button>
                <button class="btn num num-1">1</button>
                <button class="btn num num-2">2</button>
                <button class="btn num num-3">3</button>
                <button class="btn symbol plus">+</button>
                <button class="btn num num-0">0</button>
                <button class="btn dot">.</button>
                <button class="btn equal">=</button>
            </div>
            </div>
        </div>
        </div>


    <script>
        const currentValue = document.querySelector('.current-value');
        const store  = document.querySelector('.store');

        const numbers = Array.from(document.querySelectorAll('.num'));

        numbers.map(number => {
        number.addEventListener('click', setNum);
        })

        function setNum() {
        currentValue.innerText += this.innerText;
        }

        const symbols = Array.from(document.querySelectorAll('.symbol'));

        symbols.map(symbol => {
        symbol.addEventListener('click', setSymbol);
        })

        function setSymbol() { 
        if (currentValue.innerText !== '') { //ÌòÑÏû¨ Í∞íÏóê ÏïÑÎ¨¥ÎèÑ ÏóÜÎã§Î©¥
            if (store.innerText === '') { // Ï≤´ ÏûÖÎ†•Ïù¥ÎùºÎ©¥
            store.innerText = currentValue.innerText + ' ' + this.innerText
            } else { // Ï≤´ ÏûÖÎ†•Ïù¥ ÏïÑÎãê Í≤ΩÏö∞
            store.innerText = `${store.innerText} ${currentValue.innerText} ${this.innerText}`
            }
        } 
        
        clearValue(); 
        }

        const equal = document.querySelector('.equal');

        equal.addEventListener('click', getTotal);

        function getTotal() {
        if(currentValue.innerText !== '') { 
            currentValue.innerText = eval(store.innerText + currentValue.innerText);
        } 
        clearStore();
        }

        const dot = document.querySelector('.dot');
        const sign = document.querySelector('.sign');

        dot.addEventListener('click', setDot);

        sign.addEventListener('click', setSign);

        function setDot() {
        currentValue.innerText.indexOf('.') === -1 ? 
        currentValue.innerText = `${currentValue.innerText}.` :
        false;
        }

        function setSign() {
        currentValue.innerText.indexOf('-') === -1 ? 
        currentValue.innerText = `-${currentValue.innerText}` :
        currentValue.innerText = currentValue.innerText.replace('-','');
        }

        const clear = document.querySelector('.clear');
        const allClear = document.querySelector('.all-clear');

        clear.addEventListener('click', clearValue);

        allClear.addEventListener('click', function(){
        clearValue();
        clearStore();
        });

        function clearValue() {
        currentValue.innerText = '';
        }

        function clearStore() {
        store.innerText = '';
        }

        function setNum() {
        currentValue.innerText.length < 25 ? 
        currentValue.innerText += this.innerText :
        alert('Oooopsü§¶ Can you re-enter it within the maximum input range?');
        }
        
    </script>
</body>
</html>